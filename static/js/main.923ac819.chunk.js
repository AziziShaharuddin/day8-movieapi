(this["webpackJsonpmovie-api"]=this["webpackJsonpmovie-api"]||[]).push([[0],{18:function(e,t,a){e.exports={movie_section:"moviecard_movie_section__2CUga",img_holder:"moviecard_img_holder__3lyhL",details_holder:"moviecard_details_holder__2vPg3"}},19:function(e,t,a){e.exports={real_section:"details_real_section__1E_79",details_section:"details_details_section__39w09",item_desc:"details_item_desc__1vtI4"}},21:function(e,t,a){e.exports={home_section:"home_home_section__2BEWE",section:"home_section__1ddKg"}},39:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(16),o=a.n(r),s=(a(39),a(2)),c=a(8),d=a(9),l=a(12),u=a(11),h=a(21),p=a.n(h),j=a(10),b="FETCH_MOVIE",m="FETCH_MOVIE_SUCCESS",v="FETCH_MOVIE_FAIL",_="FETCH_MOVIE_DETAILS",O="FETCH_MOVIE_DETAILS_SUCCESS",f="FETCH_MOVIE_DETAILS_FAIL",y=a(23),g=a.n(y),x=a(18),E=a.n(x),D=a(7),L=a(1),C=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){return Object(c.a)(this,a),t.call(this,e)}return Object(d.a)(a,[{key:"render",value:function(){var e=this.props,t=e.poster,a=e.title,i=e.year,n=e.type;return Object(L.jsxs)(D.b,{className:E.a.movie_section,to:{pathname:"/details/".concat(this.props.id)},children:[Object(L.jsx)("img",{src:t,alt:"",className:E.a.img_holder}),Object(L.jsxs)("div",{className:E.a.details_holder,children:[Object(L.jsx)("h3",{children:a}),Object(L.jsxs)("p",{children:["Year: ",i]}),Object(L.jsxs)("p",{children:["Type: ",n]})]})]})}}]),a}(n.a.Component),T=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var i;return Object(c.a)(this,a),(i=t.call(this,e)).state={movieList:[]},i}return Object(d.a)(a,[{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(e){var t=this.props.movieData;e.movieData.isLoading&&!t.isLoading&&this.setState({movieList:t.data.Search})}},{key:"movieSubmit",value:function(){var e=this._inputEle.value;""!==e&&(this.props.onFetchMovie(e),this._inputEle.value="")}},{key:"render",value:function(){var e=this;return Object(L.jsxs)("div",{className:p.a.home_section,children:[Object(L.jsxs)("header",{children:[Object(L.jsx)("input",{type:"text",placeholder:"Search Movie",ref:function(t){return e._inputEle=t}}),Object(L.jsx)("button",{onClick:function(){return e.movieSubmit()},children:"Search"})]}),Object(L.jsx)("div",{className:p.a.section,children:this.state.movieList.map((function(e){return Object(L.jsx)(C,{id:e.imdbID,poster:e.Poster,title:e.Title,year:e.Year,type:e.Type})}))})]})}}]),a}(n.a.Component),S={onFetchMovie:function(e){return function(t){t({type:b,payload:e});try{g.a.get("https://www.omdbapi.com/?apikey=49f3bb53&s=".concat(e,"&page=1")).then((function(e){200===e.status&&"True"===e.data.Response?t({type:m,payload:e.data}):alert(e.data.Error)})).catch((function(e){alert("abc"),t({type:v,error:e.response.data.Error})}))}catch(a){t({type:v,error:a.response.data.Error})}}}},I=Object(j.b)((function(e){return{movieData:e.movie}}),S)(T),k=a(19),F=a.n(k),w=function(e){Object(l.a)(a,e);var t=Object(u.a)(a);function a(e){var i;Object(c.a)(this,a),i=t.call(this,e);var n=window.location.href.split("/"),r=n[n.length-1];return i.state={movieID:r,data:{}},i}return Object(d.a)(a,[{key:"componentDidMount",value:function(){this.props.onFetchMovieDetails(this.state.movieID),console.log(this.props)}},{key:"componentDidUpdate",value:function(e){var t=this.props.movieDetailsData;e.movieDetailsData.isLoading&&!t.isLoading&&this.setState({data:t.data})}},{key:"render",value:function(){return Object(L.jsxs)("div",{className:F.a.real_section,children:[Object(L.jsx)("h1",{children:"This is Details "}),this.props.movieDetailsData.isLoading?Object(L.jsx)("h4",{children:"Loading...."}):Object(L.jsxs)("div",{className:F.a.details_section,children:[Object(L.jsxs)("div",{children:[" ",Object(L.jsx)("img",{src:this.state.data.Poster,alt:""})]}),Object(L.jsxs)("div",{className:F.a.item_desc,children:[Object(L.jsx)("h2",{children:this.state.data.Title}),Object(L.jsx)("p",{children:this.state.data.Plot}),Object(L.jsxs)("p",{children:["Type: ",this.state.data.Type]}),Object(L.jsx)(D.b,{to:"/",children:Object(L.jsx)("button",{children:"Go Back"})})]})]})]})}}]),a}(n.a.Component),M={onFetchMovieDetails:function(e){return function(t){t({type:_});try{g.a.get("https://www.omdbapi.com/?apikey=49f3bb53&i=".concat(e)).then((function(e){200===e.status?t({type:O,payload:e.data}):alert(e.data.Error)})).catch((function(e){console.log("err 1....",e),t({type:f,error:e.response.data})}))}catch(a){console.log("err 2....",a),t({type:f,error:a.response.data})}}}},N=Object(j.b)((function(e){return{movieDetailsData:e.movieDetails}}),M)(w);var A=function(){return Object(L.jsxs)(s.c,{children:[Object(L.jsx)(s.a,{path:"/details/:id",exact:!0,element:Object(L.jsx)(N,{})}),Object(L.jsx)(s.a,{path:"/",exact:!0,element:Object(L.jsx)(I,{})})]})},H=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,68)).then((function(t){var a=t.getCLS,i=t.getFID,n=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),i(e),n(e),r(e),o(e)}))},P=a(34),V=a(6),U=a(33),B=a.n(U),J=a(3),Y=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case _:return{isLoading:!0,data:{},error:null};case O:return{isLoading:!1,data:t.payload,error:null};case f:return{isLoading:!1,data:{},error:t.error};default:return e}},z=function(e,t){if(void 0===e)return{isLoading:!1,data:{},error:null};switch(t.type){case b:return{isLoading:!0,data:{},error:null};case m:return{isLoading:!1,data:t.payload,error:null};case v:return{isLoading:!1,data:{},error:t.error};default:return e}},G=Object(J.b)({movie:z,movieDetails:Y}),K={key:"root",version:1,storage:B.a},R=Object(V.g)(K,G),W=Object(P.a)({reducer:R,middleware:function(e){return e({serializableCheck:{ignoredActions:[V.a,V.f,V.b,V.c,V.d,V.e]}})}}),q=Object(V.h)(W);o.a.render(Object(L.jsx)(n.a.StrictMode,{children:Object(L.jsx)(j.a,{store:W,children:Object(L.jsx)(D.a,{basename:"/day8-movieapi",loading:null,persistor:q,children:Object(L.jsx)(A,{})})})}),document.getElementById("root")),H()}},[[67,1,2]]]);
//# sourceMappingURL=main.923ac819.chunk.js.map